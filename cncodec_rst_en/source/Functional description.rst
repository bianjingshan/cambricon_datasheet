.. _topics-Functional description:

Functional description
=============================

-----------------------------
Function
-----------------------------

CNCodec has the following features:

 * Support decoding of ITU-T H.265 Main Profile@Level 5.1 High-tier (and below)
 * Support decoding of ITU-T H.264 High Profile@Level 5.0（and below）
 * Support decoding of ISO/IEC 14496-2 （MPEG4）Advanced Simple Profile @ Level 0～5, compatible short header format and ISO/IEC 14496-2 Simple Profile @ Level 0~3
 * Partially supports ITU-T81 Baseline profile decoding
 * Support encoding of ITU-T H.264 High Profile@Level 5.1（and below）
 * Support encoding of MJPEG/JPEG Baseline
 * Supported output formats after decoding: YUV420SP, BGR24, RGB24
 * The encoding surports the input formats of YUV420SP, BGR24, RGB24
 * Supported image resolution: 160x160 ~ 4096x2160
 * Support cropping, deinterlacing, denoising, sharpening, zooming, dynamic contrast adjustment

--------------------------------
Procedure of data processing
--------------------------------

Heres the flow chart of data processing:

.. image::  images/data_processing_flowchart.jpg

---------------------------------
Decoding ability
---------------------------------

* Input data: mpeg4
* Output data: YUV420SP
* Test machine: Intel® CoreTM i7-8700K, with 24G physical memory

+------------------+-------------------+--------------------+---------------------------+--------------------+
| Input resolution | Output resolution | Number of channels | Single channel frame rate | Decoding delay(ms) |
+==================+===================+====================+===========================+====================+
| 160 x 160        | 160 x 160         | 64                 | 30                        | 72                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 320 x 240        | 320 x 240         | 64                 | 30                        | 71                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 640 x 480        | 640 x 480         | 64                 | 30                        | 65                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 62                 | 30                        | 70                 |
| 800 x 600        | 800 x 600         +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 24                        | 65                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 44                 | 30                        | 94                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1024 x 768       | 1024 x 768        | 54                 | 24                        | 92                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 15                        | 90                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 38                 | 30                        | 95                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1280 x 720       | 1280 x 720        | 44                 | 24                        | 78                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 15                        | 96                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 26                 | 30                        | 70                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1440 x 900       | 1440 x 900        | 34                 | 24                        | 85                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 48                 | 15                        | 102                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 30                        | 68                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1920 x 1080      | 1920 x 1080       | 20                 | 24                        | 78                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 32                 | 15                        | 108                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 30                        | 126                |
|                  |                   +--------------------+---------------------------+--------------------+
| 1920 x 1200      | 1920 x 1200       | 20                 | 24                        | 140                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 28                 | 15                        | 108                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 10                 | 30                        | 73                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 2048 x 1536      | 2048 x 1536       | 14                 | 24                        | 89                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 20                 | 15                        | 113                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 8                  | 30                        | 79                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 2560 x 1600      | 2560 x 1600       | 10                 | 24                        | 89                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 15                        | 118                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 6                  | 30                        | 84                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 2560 x 2048      | 2560 x 2048       | 8                  | 24                        | 96                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 12                 | 15                        | 118                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 4                  | 30                        | 108                |
|                  |                   +--------------------+---------------------------+--------------------+
| 4096 x 2160      | 4096 x 2160       | 4                  | 24                        | 110                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 8                  | 15                        | 146                |
+------------------+-------------------+--------------------+---------------------------+--------------------+

* Input data: h264
* Output data: YUV420SP
* Test machine: Intel® CoreTM i7-8700K, with 24G physical memory

+------------------+-------------------+--------------------+---------------------------+--------------------+
| Input resolution | Output resolution | Number of channels | Single channel frame rate | Decoding delay(ms) |
+==================+===================+====================+===========================+====================+
| 160 x 160        | 160 x 160         | 64                 | 30                        | 136                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 320 x 240        | 320 x 240         | 64                 | 30                        | 72                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 640 x 480        | 640 x 480         | 64                 | 30                        | 68                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 800 x 600        | 800 x 600         | 64                 | 30                        | 74                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 44                 | 30                        | 72                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1024 x 768       | 1024 x 768        | 54                 | 24                        | 79                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 15                        | 87                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 38                 | 30                        | 73                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1280 x 720       | 1280 x 720        | 48                 | 24                        | 103                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 15                        | 89                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 26                 | 30                        | 67                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1440 x 900       | 1440 x 900        | 34                 | 24                        | 80                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 48                 | 15                        | 94                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 30                        | 70                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1920 x 1080      | 1920 x 1080       | 20                 | 24                        | 80                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 32                 | 15                        | 102                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 14                 | 30                        | 70                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 1920 x 1200      | 1920 x 1200       | 18                 | 24                        | 81                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 28                 | 15                        | 107                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 10                 | 30                        | 74                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 2048 x 1536      | 2048 x 1536       | 14                 | 24                        | 88                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 20                 | 15                        | 108                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 8                  | 30                        | 80                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 2560 x 1600      | 2560 x 1600       | 10                 | 24                        | 90                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 15                        | 116                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 6                  | 30                        | 83                 |
|                  |                   +--------------------+---------------------------+--------------------+
| 2560 x 2048      | 2560 x 2048       | 8                  | 24                        | 95                 |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 12                 | 15                        | 122                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 4                  | 30                        | 109                |
|                  |                   +--------------------+---------------------------+--------------------+
| 4096 x 2160      | 4096 x 2160       | 4                  | 24                        | 112                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 8                  | 15                        | 153                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 1920 x 1080      | 1280 x 720        | 34                 | 30                        | 111                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 1920 x 1080      | 320 x 320         | 34                 | 30                        | 96                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 1280 x 720       | 320 x 320         | 64                 | 30                        | 92                 |
+------------------+-------------------+--------------------+---------------------------+--------------------+

* Input data: hevc
* Output data: YUV420SP
* Test machine: Intel® CoreTM i7-8700K, with 24G physical memory

+------------------+-------------------+--------------------+---------------------------+--------------------+
| Input resolution | Output resolution | Number of channels | Single channel frame rate | Decoding delay(ms) |
+==================+===================+====================+===========================+====================+
| 160 x 160        | 160 x 160         | 40                 | 30                        | 118                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 320 x 240        | 320 x 240         | 64                 | 30                        | 113                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
| 640 x 480        | 640 x 480         | 64                 | 30                        | 125                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 60                 | 30                        | 149                |
| 800 x 600        | 800 x 600         +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 25                        | 137                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 38                 | 30                        | 138                |
|                  |                   +--------------------+---------------------------+--------------------+
| 1024 x 768       | 1024 x 768        | 48                 | 24                        | 163                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 15                        | 190                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 34                 | 30                        | 136                |
|                  |                   +--------------------+---------------------------+--------------------+
| 1280 x 720       | 1280 x 720        | 42                 | 24                        | 159                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 64                 | 15                        | 207                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 24                 | 30                        | 134                |
|                  |                   +--------------------+---------------------------+--------------------+
| 1440 x 900       | 1440 x 900        | 30                 | 24                        | 165                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 40                 | 15                        | 205                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 30                        | 143                |
|                  |                   +--------------------+---------------------------+--------------------+
| 1920 x 1080      | 1920 x 1080       | 20                 | 24                        | 183                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 30                 | 15                        | 253                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 14                 | 30                        | 125                |
|                  |                   +--------------------+---------------------------+--------------------+
| 1920 x 1200      | 1920 x 1200       | 18                 | 24                        | 164                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 28                 | 15                        | 238                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 10                 | 30                        | 120                |
|                  |                   +--------------------+---------------------------+--------------------+
| 2048 x 1536      | 2048 x 1536       | 12                 | 24                        | 149                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 20                 | 15                        | 238                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 8                  | 30                        | 120                |
|                  |                   +--------------------+---------------------------+--------------------+
| 2560 x 1600      | 2560 x 1600       | 10                 | 24                        | 158                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 16                 | 15                        | 229                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 6                  | 30                        | 130                |
|                  |                   +--------------------+---------------------------+--------------------+
| 2560 x 2048      | 2560 x 2048       | 8                  | 24                        | 163                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 12                 | 15                        | 218                |
+------------------+-------------------+--------------------+---------------------------+--------------------+
|                  |                   | 4                  | 30                        | 157                |
|                  |                   +--------------------+---------------------------+--------------------+
| 4096 x 2160      | 4096 x 2160       | 4                  | 24                        | 167                |
|                  |                   +--------------------+---------------------------+--------------------+
|                  |                   | 6                  | 15                        | 225                |
+------------------+-------------------+--------------------+---------------------------+--------------------+

* Input data: jpeg
* Output data: YUV420SP
* Test machine: Intel® CoreTM i7-8700K, with 24G physical memory

+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| Input resolution | Output resolution | Number of channels | Single channel frame rate | Total frame rate | Decoding delay(ms) |
+==================+===================+====================+===========================+==================+====================+
| 160 x 160        | 160 x 160         | 64                 | 33                        | 2112             | 28                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 256 x 256        | 256 x 256         | 64                 | 32                        | 2048             | 24                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 320 x 240        | 320 x 240         | 64                 | 32                        | 2048             | 22                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 640 x 480        | 640 x 480         | 54                 | 33                        | 1782             | 39                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 800 x 600        | 800 x 600         | 54                 | 25                        | 1350             | 45                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 1024 x 768       | 1024 x 768        | 32                 | 32                        | 1024             | 53                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 1280 x 720       | 1280 x 720        | 48                 | 19                        | 912              | 77                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 1440 x 900       | 1440 x 900        | 22                 | 30                        | 660              | 81                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 1920 x 1080      | 1920 x 1080       | 18                 | 22                        | 396              | 57                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 1920 x 1200      | 1920 x 1200       | 16                 | 23                        | 368              | 56                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 2048 x 1536      | 2048 x 1536       | 14                 | 20                        | 280              | 87                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 2560 x 1600      | 2560 x 1600       | 12                 | 17                        | 204              | 72                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 2560 x 2048      | 2560 x 2048       | 10                 | 16                        | 160              | 81                 |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+
| 4096 x 2160      | 4096 x 2160       | 8                  | 12                        | 96               | 114                |
+------------------+-------------------+--------------------+---------------------------+------------------+--------------------+

---------------------------
Encoding ability
---------------------------

* Input data: YUV420SP
* Output data: h264
* Test machine: Intel® CoreTM i7-8700K, with 24G physical memory

+------------------+-------------------+--------------------+---------------------------+------------------+
| Input resolution | Output resolution | Number of channels | Single channel frame rate | Total frame rate |
+==================+===================+====================+===========================+==================+
| 1280 x 720       | 1280 x 720        | 8                  | 34                        | 272              |
+------------------+-------------------+--------------------+---------------------------+------------------+
| 1920 x 1080      | 1920 x 1080       | 8                  | 12                        | 96               |
+------------------+-------------------+--------------------+---------------------------+------------------+
| 4096 x 2160      | 4096 x 2160       | 4                  | 7                         | 28               |
+------------------+-------------------+--------------------+---------------------------+------------------+

* Input data: YUV420SP
* Output data: jpeg
* Test machine: Intel® CoreTM i7-8700K, with 24G physical memory

+------------------+-------------------+--------------------+---------------------------+------------------+
| Input resolution | Output resolution | Number of channels | Single channel frame rate | Total frame rate |
+==================+===================+====================+===========================+==================+
| 1280 x 720       | 1280 x 720        | 18                 | 30                        | 480              |
+------------------+-------------------+--------------------+---------------------------+------------------+
| 1920 x 1080      | 1920 x 1080       | 8                  | 32                        | 256              |
+------------------+-------------------+--------------------+---------------------------+------------------+
| 4096 x 2160      | 4096 x 2160       | 4                  | 15                        | 60               |
+------------------+-------------------+--------------------+---------------------------+------------------+